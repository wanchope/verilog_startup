Reuse Methodology Manual Third Edition
第一章 引言
硅技术已经允许我们制造包含数十亿级晶体管的芯片。这个技术使得单个芯片上的系统集成能力更进了一步，并且同时全面革新了芯片设计。对产品更强能力的需求以及现在硅技术的超大容量使得SoC设计从领先的技术变为了主流的设计实践。这些芯片往往有一个或者多个片上处理器、大量的存储器、基于总线的架构、外设、协处理器和I/O通道。这些芯片是真正的系统，比起几年前的芯片更像是十年前的板级设计。

随着芯片的发展，设计方法也要随着发展。从零开始编写全部的RTL->集成RTL块到顶层设计中->放置好之后进行平面仿真,这样的设计方法已经不再适合复杂的芯片了。设计重用――使用预设计预验证好的核――已经成为了SoC设计的基石，因为这是在可以接受的成本（包括队伍规模和进度，以及可以接受的质量）下设计出高集成度的芯片的唯一方法。对设计师的挑战不是要不要采用重用，而是怎么使用更有效。

这个手册概略描述了一些创建用于SoC设计方法的可重用设计的最佳实践。这些实践是基于我们在开发科重用设计上的经验，还包括来自于全世界许多公司的设计组的经验。硅和工具的发展迅速以至于很多可重用设计的细节毫无疑问的会随着时间而改进。但是这本书中描述的方法论的基本方面已经被广泛接受并且有希望在未来成为芯片设计的基础。

1.1这本手册的目标
开发方法论在系统设计师和处理器设计师之间必然有所不同，同样在DSP开发者和芯片开发者之间也有不同。然而，对于设计复杂芯片的人来说有许多需要面对的共同问题：
*上市时间的压力需要快速的开发。
*结果的质量，包括性能、面积和功耗，是市场成功的关键。
*不断增长的芯片复杂度是验证工作变得更困难。
*深亚微米问题使得时序收敛变得更困难。
*开发团队有不同的水平和擅长的领域，通常分散在世界各地。
*设计团队的成员可能之前做过类似的设计，但是不能重用这些设计。因为设计流程、工具、准则都发生了变化。
*SoC设计包括嵌入式处理器核心和同样重要的软件组件，使得方法论、流程和组织架构的挑战都增加了。

作为对这些问题的响应，设计团队接受了一个基于黑盒的强调设计重用的设计方法。已经设计验证好的重用宏（有时称为“核”）帮助专注于上面的问题。然而，设计团队采用基于重用的设计进入一个重要问题。不是针对重用设计的重用模块通常对团队来说只有很少好处或在没有。如果一个预先存在的模块没有提供合适的愿景、合适的文档、合适的功能，集成到新设计中的工作量会非常高。

根据这些经验，设计团队认识到基于重用的设计需要一个关于开发易于集成到SoC设计中的可重用核的详细方法论。这个手册聚焦于描述这些技巧。尤其是：
*怎样使可重用核适合SoC开发的方法论。
*怎样设计可重用的软核。
*怎样从软核生成硬核。
*怎样在SoC设计中集成软核和硬核。
*怎样在大型SoC设计中验证时序和功能。

在这种情况下，这本手册专注于两类明确的读者：可重用设计师（核设计师）和使用可重用模块的芯片设计师（核综合师）。对于核设计师，主要关注怎样设计软核并转成硬核的部分，其他部分主要作为参考。对于综合工程师，关于软核和硬核设计的部分主要作为对于在可重用设计中寻找什么的描述。

SoC设计因为深亚微米技术变得可能。这个技术为设计带来了整套的挑战，包括连接延迟、时钟和供电分布以及百万级门阵列的摆放和路由。这些物理设计的问题对SoC的功能设计和设计过程本身都有重大影响。连接问题、平面布局和时序设计必须在设计过程早期就开始，与功能需求开发同时进行。这本手册专注于逻辑上跟提供能够使用深亚微米技术制造以及制造需要的时钟频率、供电和面积相关的问题和困难。

SoC设计有一个重要的软件组件作为硬件的补充。然而，这本手册首先聚焦于可重用硬核的创建和重用上。聚焦于硬核重用不应该被理解为一种把系统设计中软件部分重要性最小化的尝试。软件在SoC系统的设计、综合、测试以及最后的产品中扮演着基本的角色。

1.1.1 假设
这本手册假设读者熟悉标准的高层设计方法学，包括：
*HDL设计和综合
*对测试的设计，包括全扫描技术
*版图规划、物理综合、布局和路由

1.1.2 定义
这本手册中我们将可替换使用使用下面一组说法：
*宏
*核
*块
*IP
所有这些说法都代表了一个可以被合理的当做一个完整SoC设计的独立子组件的设计单元。例如PCI接口、微处理器、片上存储器。

这本手册普遍用到的其他说法包括：
*子块――一个子块是一个IP的子组件，太小或者太具体所以不能作为一个单独的设计组件。
*软核――软核作为可综合的RTL代码提供给集成工程师
*硬核――硬核作为GDSII文件提供给集成工程师。是提供者完整设计、布局和路由好的。

1.1.3 虚拟接口联盟
虚拟接口联盟（VSIA）是一个工业团体，通过制定工具接口、设计和资料实践的标准来促进对设计重用的接受度。VSIA已经在提高工业界对于重用重要性的意识以及识别处理支持普遍的有效的重用设计的关键技术点做了卓越的工作。

VSIA的工作组已经提出大量关于标准的提议正在审核中。作为提出的详细提议的扩充，这本手册会尽力的遵守这些提议。

这种态度的一些特例：
*虚拟组件：VSIA使用“虚拟组件”来表示可重用的核，我们在大多数情况简称为“核”。
*固化核：VSIA定义了一个介于软核和硬核之间的中间态，有一个比较宽的范围。固化核可以以RTL或者网表的格式提供，不包括布局的细节，但是有一些物理设计信息补充RTL。我们在这本手册中不特别关注固化核；我们认为聚焦于软核和硬核更有用。


1.2 重用设计：挑战
一个有效的基于块的设计方法论需要可重用块或核的外部库。这些核的开发者必须相应地使用坚持生产科重用核的设计方法论。

重用设计方法论基于下面原则：
*这个核必须非常容易集成到总体的芯片设计中。
*这个核必须足够健壮，集成工程师在集成这个核的时候完全不需要做功能验证。

